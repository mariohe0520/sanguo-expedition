# Design Doc #002: 战斗动画大改 — 从Flash小游戏到高端动效

## 当前问题
- 攻击 = 角色前冲一下 + 几个粒子 → 没有打击感
- 技能 = 紫色光环 + 星星粒子 → 所有技能一个样
- 暴击 = 金色粒子多一点 → 分辨不出
- 击杀 = 红色粒子 → 没有爽感
- 没有元素特效、没有斩击轨迹、没有冲击波

## 改造方向: 高端动效 (参考原神/崩铁)

### 1. 斩击轨迹 (Slash Trail)
- 普攻：白色弧线斩击，带拖尾渐隐
- 暴击：金色双重斩击 + 十字交叉
- 每次攻击随机方向(↗↘↙↖)，不重复

### 2. 元素特效 (Element VFX)
| 元素 | 攻击 | 技能 | 颜色 |
|------|------|------|------|
| fire | 火焰爆炸 + 燃烧残留 | 全屏火海 + 热浪扭曲 | #ff4500 → #ffd700 |
| water | 水花飞溅 + 波纹扩散 | 巨浪冲击 | #00bfff → #4169e1 |
| lightning | 闪电链 + 电弧 | 雷霆劈击 | #fff44f → #7b68ee |
| ice | 冰晶碎裂 + 寒气 | 冰封冻结效果 | #00ffff → #e0f0ff |
| wind | 风刃切割 | 龙卷风 | #98fb98 → #fff |
| earth | 岩石碎裂 | 地裂 | #8B4513 → #DAA520 |
| dark | 暗影侵蚀 | 暗域爆发 | #4a0080 → #800080 |

### 3. 冲击波 (Impact Wave)
- 普攻：小圆环扩散
- 暴击：大圆环 + 时间减速0.3秒(freeze frame)
- 技能：全屏冲击波 + 背景闪白

### 4. 击杀演出
- 角色碎裂消散(不是简单X)
- 灵魂飞散粒子(向上漂浮)
- 屏幕微缩放回弹(scale 1.02 → 1.0)

### 5. 技能释放演出
- 释放前：全屏短暂变暗(聚焦)
- 技能名大字居中显示(毛笔字风格)
- 元素特有全屏特效
- 释放后：冲击波扩散

### 6. 胜利/败北
- 胜利：金光爆发 + 粒子喷泉 + 彩带
- 败北：画面逐渐灰暗 + 碎裂效果

## 实现方式
全部 Canvas2D，不引入额外库。通过数学函数实现:
- 贝塞尔曲线 → 斩击轨迹
- 径向渐变动画 → 冲击波/光环
- 帧动画管理器 → 多阶段特效编排
